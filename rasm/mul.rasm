in
mov b, a
in
mov c, a
la return
mov d, a
ja mul
return: mov a, b
out
hlt

mulreturn: ; b * c, return to d with result in b
mul: std mulreturn ; return address
mov d, b ; d is counter
xor b, b
mulloop: add b, c ; repeated addition of c
mov a, d ; decrement d
dec
mov d, a
lda mulreturn ; load return address
jez d, a ; return?
ja mulloop ; add again
